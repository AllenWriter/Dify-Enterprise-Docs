---
title: 環境変数
---

## 特殊な環境変数の説明
- `serverWorkerAmount`: この環境変数は `API` サービスで使用されます。
  - デフォルト値は `9` です。テスト環境ではリソースを節約するために `1` に設定できます。
  - APIサーバーワーカーの数、つまりgeventワーカーの数。計算式: `CPUコア数 x 2 + 1`
  - [参考](https://docs.gunicorn.org/en/stable/design.html#how-many-workers)
- `celeryWorkerAmount`: この環境変数は `Worker` サービスで使用されます。
  - デフォルト値は `9` です。テスト環境ではリソースを節約するために `1` に設定できます。

## `values.yaml` に見つからない環境変数を設定する方法

`values.yaml` に見つからない環境変数を設定したい場合は、`values.yaml` ファイルの `extraEnv` フィールドを使用できます。

````yaml
api:
  extraEnv:
    - name: "DEMO_ENV_VAR"
      value: "demo"
````

<a href="https://assets-docs.dify.ai/2025/01/e3d53c6c7d979c77d0a1809670fbf211.yaml" download="values.yaml">こちらをクリック</a>して、`values.yaml`ファイルをダウンロードしてください。
詳細については、[変数](/ja-jp/user-guide/build-app/flow-app/variables)をご覧ください。

## `HTTP_PROXY` と `HTTPS_PROXY` を設定する方法
セキュリティ上の理由から、Dify `API` サービスの `HTTP_PROXY` と `HTTPS_PROXY` 環境変数を設定する必要がある場合があります。
`values.yaml` ファイルの `extraEnv` フィールドを使用できます。

````yaml
api:
  extraEnv:
    - name: "HTTP_PROXY"
      value: "http://proxy.example.com:8080"
    - name: "HTTPS_PROXY"
      value: "http://proxy.example.com:8080"
````
