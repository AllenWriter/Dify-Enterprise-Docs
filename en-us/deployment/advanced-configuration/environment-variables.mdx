---
title: Environment Variables
version: 'English'
---

## Special Environment Variables Explanation
- `serverWorkerAmount`: This ENV is used at `API` service.
  - Default value is `9`, if you are in testing environment, you can set it to `1` to save resources.
  - The number of API server workers, i.e., the number of gevent workers. Formula: `number of cpu cores x 2 + 1`
  - [Reference](https://docs.gunicorn.org/en/stable/design.html#how-many-workers)
- `celeryWorkerAmount`: This ENV is used at `Worker` service.
  - Default value is `9`, if you are in testing environment, you can set it to `1` to save resources.

> <a href="https://assets-docs.dify.ai/2025/01/e3d53c6c7d979c77d0a1809670fbf211.yaml" download="values.yaml">Click here</a> to download the `values.yaml` file.

For more information, please refer to [Variables](/en-us/user-guide/build-app/flow-app/variables).


## How to configure environment variables not found in `values.yaml`?
If you want to configure the environment variables not found in `values.yaml`, you can use the `extraEnv` field in the `values.yaml` file. 

```yaml
api:
  extraEnv:
    - name: "DEMO_ENV_VAR"
      value: "demo"
```

For more information, please refer to the [variable documentation](https://docs.dify.ai/getting-started/install-self-hosted/environments).

## How to configure `HTTP_PROXY` and `HTTPS_PROXY`?
Sometimes, for security reasons, you may need to configure the `HTTP_PROXY` and `HTTPS_PROXY` environment variables for the Dify `API` service.
You can use the `extraEnv` field in the `values.yaml` file. 

```yaml
api:
  extraEnv:
    - name: "HTTP_PROXY"
      value: "http://proxy.example.com:8080"
    - name: "HTTPS_PROXY"
      value: "http://proxy.example.com:8080"
```