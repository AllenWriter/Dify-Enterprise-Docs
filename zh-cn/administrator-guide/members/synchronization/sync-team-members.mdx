---
title: 同步成员
description: 通过 SCIM 标准自动同步组织成员
---

## 概述

Dify 企业版支持通过 [SCIM](https://scim.cloud/)（System for Cross-domain Identity Management）标准协议自动同步现有的部门/人员结构，帮助企业管理员高效管理大规模组织人员。

- 支持标准 SCIM 2.0 协议
- 自动同步用户信息和组织结构
- 支持多种主流身份提供商集成
- 在线自动更新成员变动

## 配置前准备

启用自动同步机制前，你需要进行以下准备：

1. 获取系统管理员权限
2. 了解组织正在使用的身份提供商类型，并拥有后台管理权限

## 配置步骤

### 第一步：获取 SCIM 配置信息

<Steps>
  <Step title="进入同步设置页面">
    导航至企业管理后台，点击左侧菜单栏 **成员** → **同步设置**。

    <img src="https://assets-docs.dify.ai/2025/05/764e71213cadcaa45c62c56a2dc38cbf.png" alt="同步设置界面" />
  </Step>

  <Step title="获取 SCIM 端点 URL">
    复制页面中显示的 `SCIM 2.0 Base URL`，此 URL 将用于身份提供商的配置。
  </Step>

  <Step title="生成认证令牌">
    - 点击"获取令牌"按钮
    - 系统将生成 OAuth Bearer Token
    
    <Warning>
      认证令牌仅显示一次，请立即复制并妥善保存。如果遗失，需要重新生成新的令牌。
    </Warning>
  </Step>

  <Step title="保存配置信息">
    将以下信息妥善保存，用于后续配置：
    - SCIM Base URL
    - OAuth Bearer Token
  </Step>
</Steps>

### 第二步：配置身份提供商

根据你组织使用的身份提供商，选择相应的配置指南：

<CardGroup cols={2}>
  <Card title="Azure Active Directory" icon="microsoft" href="./azure">
    配置 Azure AD 与 Dify 的成员同步
  </Card>
  <Card title="Okta" icon="key" href="./okta">
    配置 Okta 与 Dify 的成员同步
  </Card>
</CardGroup>

<Warning>
  启用自动同步后，成员账户将由身份系统统一管理，不再支持成员自行注册 Dify 企业版。
</Warning>

## 属性对应表

Dify 功能与 SCIM 字段的属性对应关系：

SCIM 实现支持以下用户属性映射：

| SCIM 资源类型 | Dify 内参数对应 | 支持的操作 | 额外说明 |
|----------------|------------------|-------------------------------|--------------------------------------------------------------|
| User           | Member（email、name、status） | 创建 / 更新 / 停用 | 停用操作不会删除用户，只将 `status` 从 `active` 改为 `banned`，用户数据仍保留 |
| Group          | Group（name、members）        | 创建 / 更新名称 / 更新成员 / 删除 | 删除操作会永久移除群组及其成员关系，无法恢复数据 |

