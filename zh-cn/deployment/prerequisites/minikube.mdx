---
title: 'Minikube'
version: '简体中文'
---

## 要求
- Minikube
  - 4 CPU 16 GB RAM
- Helm 3.14+
- Kubectl

## 安装
### 启动 minikube
您可以执行以下命令来启动 minikube：
```bash
minikube start --driver=docker --cpus=4 --memory=16384
```

### 设置 Docker 镜像拉取密钥
在安装 Dify Enterprise 之前，您需要设置 Docker 镜像拉取密钥。
- [如何设置 Docker 镜像拉取密钥](/deployment/advanced-configuration/docker/docker-image-pull-secret)

### 持久化配置

您需要编辑 `values.yaml` 并设置持久化类型。这是为了在拉取镜像后进行配置做准备。
支持的存储类型：s3、azure-blob、aliyun-oss、google-storage。

> <a href="/assets/values.yaml" download="values.yaml">点击此处</a>下载 `values.yaml` 文件。
```
persistence:
  type: "s3"
  s3:
    endpoint: "https://xxx.r2.cloudflarestorage.com"
    accessKey: "#REPLACE_ME#"
    secretKey: "#REPLACE_ME#"
    region: "us-east-1"
    bucketName: "your-bucket-name"
```

### 安装 Dify Enterprise
Dify Enterprise 使用 Helm 进行部署。

```bash
helm repo add dify https://langgenius.github.io/dify-helm
helm repo update

helm upgrade -i dify -f values.yaml dify/dify
```

更多信息，请参考 [Dify Helm Chart](/deployment/advanced-configuration/dify-helm-chart)。

### 设置 Ingress 控制器
您可以执行以下命令在 minikube 集群上启用 Ingress 控制器：
```bash
minikube addons enable ingress
```

您应该使用 `minikube tunnel` 命令将服务暴露给主机。
```bash
minikube tunnel
```

### 访问 Dify Enterprise
启用 Ingress 控制器后，您可以在本地 `/etc/hosts` 文件中设置域名。
```
127.0.0.1 console.dify.local
127.0.0.1 app.dify.local
127.0.0.1 api.dify.local
127.0.0.1 upload.dify.local
127.0.0.1 enterprise.dify.local
```

### 验证安装
- Dify 控制台：访问 `http://console.dify.local` 并完成安装。
- Enterprise 仪表板：访问 `http://enterprise.dify.local`，并使用默认的电子邮件和密码登录。登录后可以更改密码。
  ```
  电子邮件：dashboard@dify.ai
  密码：difyai123456
  ```
