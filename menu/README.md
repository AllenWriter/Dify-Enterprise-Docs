# Difyæ–‡æ¡£èœå•ç®¡ç†å·¥å…·

è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„èœå•ç®¡ç†å·¥å…·ï¼Œç”¨äºç®¡ç†Difyä¼ä¸šç‰ˆæ–‡æ¡£çš„å¤šç‰ˆæœ¬èœå•é…ç½®ã€‚

## ç‰¹æ€§

- ğŸš€ **ä¸€é”®æ“ä½œ**: å•ä¸ªè„šæœ¬å®Œæˆæ‰€æœ‰åŠŸèƒ½
- ğŸ“‹ **äº¤äº’å¼ç•Œé¢**: å‹å¥½çš„å‘½ä»¤è¡Œäº¤äº’
- ğŸ”§ **å‘½ä»¤è¡Œæ”¯æŒ**: æ”¯æŒè‡ªåŠ¨åŒ–è„šæœ¬è°ƒç”¨
- ğŸ’¾ **è‡ªåŠ¨å¤‡ä»½**: é‡è¦æ“ä½œå‰è‡ªåŠ¨å¤‡ä»½
- âœ… **æ™ºèƒ½éªŒè¯**: å®Œæ•´çš„èœå•æ–‡ä»¶éªŒè¯

## å¿«é€Ÿå¼€å§‹

### åŸºæœ¬ä½¿ç”¨

```bash
# è¿›å…¥äº¤äº’æ¨¡å¼ï¼ˆæ¨èï¼‰
python3 menu_manager.py

# åˆå¹¶ç°æœ‰çš„èœå•æ–‡ä»¶ï¼ˆä½ å½“å‰çš„éœ€æ±‚ï¼‰
python3 menu_manager.py merge

# åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬
python3 menu_manager.py list

# éªŒè¯èœå•æ–‡ä»¶
python3 menu_manager.py validate
```

### æ·»åŠ æ–°ç‰ˆæœ¬

```bash
# ä¸€é”®åˆ›å»ºæ–°ç‰ˆæœ¬çš„æ‰€æœ‰è¯­è¨€æ¨¡æ¿
python3 menu_manager.py add 2.9.x

# åªåˆ›å»ºç‰¹å®šè¯­è¨€
python3 menu_manager.py add 2.9.x --languages en cn

# åˆ›å»ºå•ä¸ªæ¨¡æ¿
python3 menu_manager.py template 2.9.x en
```

### æå–å’Œåˆå¹¶

```bash
# ä»ä¸»é…ç½®æå–èœå•åˆ°ç‹¬ç«‹æ–‡ä»¶
python3 menu_manager.py extract

# å°†ç‹¬ç«‹èœå•æ–‡ä»¶åˆå¹¶å›ä¸»é…ç½®
python3 menu_manager.py merge
```

## ç›®å½•ç»“æ„

```
Dify-Enterprise-Docs/
â”œâ”€â”€ docs.json                    # ä¸»æ–‡æ¡£é…ç½®æ–‡ä»¶
â”œâ”€â”€ menu/                        # èœå•ç®¡ç†ç›®å½•
â”‚   â”œâ”€â”€ menu_manager.py          # èœå•ç®¡ç†å·¥å…·ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
â”‚   â”œâ”€â”€ README.md                # æœ¬æ–‡æ¡£
â”‚   â”œâ”€â”€ 2.5.x/                   # ç‰ˆæœ¬ç›®å½•
â”‚   â”‚   â”œâ”€â”€ menu-en.json         # è‹±æ–‡èœå•
â”‚   â”‚   â”œâ”€â”€ menu-cn.json         # ä¸­æ–‡èœå•
â”‚   â”‚   â””â”€â”€ menu-ja.json         # æ—¥æ–‡èœå•
â”‚   â”œâ”€â”€ 2.6.x/
â”‚   â”œâ”€â”€ 2.7.x/
â”‚   â””â”€â”€ 2.8.x/
â””â”€â”€ docs.json.backup             # è‡ªåŠ¨å¤‡ä»½æ–‡ä»¶
```

## èœå•æ–‡ä»¶æ ¼å¼

æ¯ä¸ªèœå•æ–‡ä»¶åŒ…å«ä»¥ä¸‹ç»“æ„ï¼š

```json
{
  "version": "2.8.x",
  "language": "cn",
  "href": "/zh-cn/introduction",
  "groups": [
    {
      "group": "ç®€ä»‹",
      "pages": ["zh-cn/introduction"]
    },
    {
      "group": "éƒ¨ç½²æ‰‹å†Œ",
      "pages": [
        "zh-cn/deployment/checklist",
        {
          "group": "å®‰è£…æŒ‡å¼•",
          "pages": ["zh-cn/deployment/prerequisites/kubernetes"]
        }
      ]
    }
  ]
}
```

## äº¤äº’å¼ç•Œé¢

è¿è¡Œ `python3 menu_manager.py` è¿›å…¥äº¤äº’æ¨¡å¼ï¼š

```
ğŸ¯ Dify èœå•ç®¡ç†å·¥å…·
========================================

è¯·é€‰æ‹©æ“ä½œ:
1. ğŸ“¤ æå–èœå•
2. ğŸ“¥ åˆå¹¶èœå•
3. ğŸ“‹ åˆ—å‡ºç‰ˆæœ¬
4. ğŸ” éªŒè¯èœå•
5. ğŸ†• æ·»åŠ ç‰ˆæœ¬
6. ğŸ’¾ å¤‡ä»½é…ç½®
0. ğŸšª é€€å‡º
```

## å¸¸ç”¨å·¥ä½œæµç¨‹

### é¦–æ¬¡ä½¿ç”¨
```bash
# 1. å¤‡ä»½å¹¶æå–ç°æœ‰èœå•
python3 menu_manager.py extract

# 2. æ£€æŸ¥æå–ç»“æœ
python3 menu_manager.py list
```

### æ—¥å¸¸ç»´æŠ¤
```bash
# 1. ç¼–è¾‘ menu/ ç›®å½•ä¸‹çš„èœå•æ–‡ä»¶
# 2. éªŒè¯ä¿®æ”¹
python3 menu_manager.py validate

# 3. åˆå¹¶åˆ°ä¸»é…ç½®
python3 menu_manager.py merge
```

### æ·»åŠ æ–°ç‰ˆæœ¬
```bash
# 1. åˆ›å»ºæ–°ç‰ˆæœ¬æ¨¡æ¿
python3 menu_manager.py add 2.9.x

# 2. ç¼–è¾‘ç”Ÿæˆçš„èœå•æ–‡ä»¶
# 3. åˆå¹¶åˆ°ä¸»é…ç½®
python3 menu_manager.py merge
```

## å‘½ä»¤å‚è€ƒ

| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ |
|------|------|------|
| `extract` | æå–èœå•åˆ°ç‹¬ç«‹æ–‡ä»¶ | `python3 menu_manager.py extract` |
| `merge` | åˆå¹¶èœå•åˆ°ä¸»é…ç½® | `python3 menu_manager.py merge` |
| `list` | åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬ | `python3 menu_manager.py list` |
| `validate` | éªŒè¯èœå•æ–‡ä»¶ | `python3 menu_manager.py validate` |
| `add VERSION` | æ·»åŠ æ–°ç‰ˆæœ¬ | `python3 menu_manager.py add 2.9.x` |
| `template VERSION LANG` | åˆ›å»ºå•ä¸ªæ¨¡æ¿ | `python3 menu_manager.py template 2.9.x en` |
| `backup` | å¤‡ä»½ä¸»é…ç½® | `python3 menu_manager.py backup` |

## é€‰é¡¹å‚æ•°

- `--root PATH`: æŒ‡å®šæ–‡æ¡£æ ¹ç›®å½•ï¼ˆé»˜è®¤ï¼šå½“å‰ç›®å½•ï¼‰
- `--quiet, -q`: é™é»˜æ¨¡å¼ï¼Œå‡å°‘è¾“å‡ºä¿¡æ¯
- `--languages LANG...`: æŒ‡å®šè¯­è¨€åˆ—è¡¨ï¼ˆç”¨äº add å‘½ä»¤ï¼‰

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **JSONæ ¼å¼é”™è¯¯**
   ```bash
   python3 menu_manager.py validate
   ```

2. **æ–‡ä»¶æƒé™é—®é¢˜**
   ```bash
   chmod +x menu_manager.py
   ```

3. **æ¢å¤å¤‡ä»½**
   ```bash
   cp docs.json.backup docs.json
   ```

### é”™è¯¯ä»£ç 

- `0`: æˆåŠŸ
- `1`: æ‰§è¡Œé”™è¯¯æˆ–éªŒè¯å¤±è´¥

## å‡çº§è¯´æ˜

### ä»æ—§ç‰ˆæœ¬å‡çº§

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨å¤šä¸ªè„šæœ¬æ–‡ä»¶ï¼š

1. å¤‡ä»½ç°æœ‰é…ç½®ï¼š`cp docs.json docs.json.backup`
2. ä½¿ç”¨æ–°å·¥å…·ï¼š`python3 menu_manager.py`
3. æ—§è„šæœ¬æ–‡ä»¶å·²é‡å‘½åä¸º `.old` åç¼€ï¼Œå¯ä»¥å®‰å…¨åˆ é™¤

### å…¼å®¹æ€§

- Python 3.6+
- ä¸ç°æœ‰èœå•æ–‡ä»¶æ ¼å¼å®Œå…¨å…¼å®¹
- ä¿æŒä¸ Mintlify æ–‡æ¡£ç³»ç»Ÿçš„å…¼å®¹æ€§

## æŠ€æœ¯è¯´æ˜

- **ç¼–ç **: æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç 
- **æ ¼å¼**: ä¸¥æ ¼çš„ JSON æ ¼å¼éªŒè¯
- **å¤‡ä»½**: è‡ªåŠ¨åˆ›å»ºæ—¶é—´æˆ³å¤‡ä»½
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·åé¦ˆ

---

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»æ–‡æ¡£ç»´æŠ¤å›¢é˜Ÿã€‚
