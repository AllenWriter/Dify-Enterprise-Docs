---
title: Web App 外部用户认证
---

Dify 企业版支持面向企业外部用户提供服务，通过配置第三方身份认证服务，外部用户无需注册 Dify 账户，通过 SSO 认证后即可直接使用企业发布的 Web 应用。对于企业而言，这种方式不仅可以限制应用访问，同时还可以通过第三方身份提供商监测和管理外部用户。

这种认证方式适用于向客户、合作伙伴或其他外部用户提供 AI 服务的场景。举例：少量 IT 人员搭建了面向企业内部员工的 AI 助手，但并非所有成员都加入到了 Dify 企业版系统内，此时可以添加 SSO 认证，允许 Dify 企业版系统外的用户进行访问。

## 功能特性

### 适用场景

**外部客户服务**
- 产品咨询：产品介绍和技术支持应用
- 在线助手：业务流程指导和帮助文档

### 认证流程

<Steps>
  <Step title="用户访问">
    用户通过浏览器访问 Web 应用链接
  </Step>
  <Step title="自动跳转">
    系统自动将用户重定向到配置的 SSO 登录页面
  </Step>
  <Step title="身份验证">
    用户在第三方身份提供商处完成身份验证
  </Step>
  <Step title="授权回调">
    验证成功后，系统将用户重定向回应用
  </Step>
  <Step title="开始使用">
    用户直接进入 Web 应用界面，开始使用服务
  </Step>
</Steps>

## 配置步骤

### 前置条件

在开始配置之前，请确保：
- 已部署 Dify 企业版
- 具有系统管理员权限
- 已准备好第三方 SSO 身份提供商（如 Azure AD、Okta、企业微信等）

### 步骤 1：配置 SSO 身份提供商

1. 登录 **Dify 企业管理后台**
2. 导航至 **身份认证** → **Web 应用外部用户**
3. 在 "SSO 身份提供商" 区域点击 **配置** 按钮

<Frame>
  <img src="https://assets-docs.dify.ai/2025/06/b63d4200784dfde5ff981b61d333cefa.png" alt="Web App 外部用户认证配置界面" />
</Frame>

根据不同的身份提供商进行配置，详细说明请参考[配置 SSO 认证](/zh-cn/administrator-guide/sso/introduction)。

### 步骤 2：启用外部用户认证

1. 在配置完成后，找到 **启用 SSO** 开关
2. 将开关切换至 **开启** 状态

<Info>
  若已配置 SSO 但未开启认证，Web app 发布权限中的 **经认证的外部用户** 选项将被暂时禁用。如需了解更多关于 Web app 发布权限的配置，请参考 [应用访问权限管理](/versions/2-8-x/zh-cn/user-guide/application-publishing/permission-management)。
</Info>

### 步骤 3：测试认证配置

1. 发布 Web app 时将权限范围设置为 **平台内所有成员** 或 **平台内指定成员**。
2. 将 Web app 的 URL 发送至具备访问权限的用户。
3. 验证是否正确跳转到 SSO 登录页面。
4. 使用测试账户完成登录流程。
5. 确认能够正常访问 Web 应用。

## 故障排除

### 常见问题

<Accordion title="无法跳转到 SSO 登录页面">
**可能原因：**
- SSO 配置未启用
- 身份提供商配置错误
- 网络连接问题

**解决方案：**
1. 检查 SSO 是否已启用
2. 验证身份提供商配置信息
3. 测试网络连接和 DNS 解析
4. 查看系统错误日志
</Accordion>

<Accordion title="SSO 登录后无法返回 Web 应用">
**可能原因：**
- 回调地址配置错误
- 令牌验证失败
- 用户权限不足

**解决方案：**
1. 检查身份提供商中的回调地址设置。请前往 **管理后台** → **身份认证** → **Web 应用外部用户** 获取回调地址。
2. 验证客户端密钥是否正确
3. 确认用户在身份提供商中的权限
</Accordion>

<Accordion title="部分用户无法通过 SSO 认证">
**可能原因：**
- 用户账户被禁用
- 权限组配置问题
- 属性映射不匹配

**解决方案：**
1. 在身份提供商中检查用户状态
2. 验证用户的组织架构和权限分配
3. 调整属性映射规则
</Accordion>
