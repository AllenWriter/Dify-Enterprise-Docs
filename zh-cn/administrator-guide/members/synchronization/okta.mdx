---
title: 使用 Azure 配置 SCIM
description: 通过 SCIM 标准自动同步组织成员。版本号 ≥ v2.7.0
---

本篇文档将以 Azure Entra ID 为例，演示如何与 Dify 企业版内的 SCIM 服务建立连接，启用成员自动同步机制。

## 创建 Okta 应用并分配用户和组

### 1. 访问 Okta 管理控制台

访问 Okta 管理员后台页，导航到 Applications → Create App Integration。

![](https://assets-docs.dify.ai/2025/05/c5f569eb091dfd55d6cc131fb74192f4.png)

### 2. 创建 App 集成

1. 点击 "Create App Integration"

2. 创建新应用：
  - 平台选择 "Web Applicatoin"
  - 登录方法选择 "SAML 2.0" 
  - 点击"创建"

3. 启用 SCIM
  - 在 General 标签, App Settings 部分， 点击 "Edit"
  - 修改 Application label， 启用 SCIM
  - 点击 "save"

![](https://assets-docs.dify.ai/2025/05/5e5031051743b7ad391b38030d5a7abd.png)

### 3. 配置自动同步机制

1. 点击 SAML 应用程序配置菜单，导航至 Provisioning。
2. 点击"配置 API 集成"
3. 启用 API 集成
4. 输入 SCIM 连接详情：
  - SCIM 2.0 基础 URL：您的 SCIM 端点 URL（在前一部分中复制的）
  - OAuth Bearer Token：您的 SCIM 认证令牌
  - 推送 User 和 推送 Group：如果您想同步User 和 Group，请对应启用

5. 点击 **测试 API 凭据** 验证连接
6. 测试成功后点击"保存"

![](https://assets-docs.dify.ai/2025/05/1dcde7b1f9fc3a26769ef91170f2be58.png)

### 4. 配置 Provisioning

1. 在 **Provisioning** 选项卡中，进入 "To App" 部分并点击 "Edit"
2. 启用所需要的功能：
  - **创建用户**：在 Okta 中分配新的用户时，自动在 Dify 内创建新用户
  - **更新用户属性**：保持用户信息同步
  - **停用用户**：在 Okta 中取消分配或停用用户时，自动在 Dify 企业版内停用用户（停用时 Dify 将用户状态设为“被禁用”）
3. 点击"保存"

![](https://assets-docs.dify.ai/2025/05/3f660720b6a51f9858e547ffc10e8bde.png)

### 5. 分配用户和组

**分配用户：**

1. 进入 Assignmemts 页，点击 Assign 并分配需要添加至 Dify 企业版的用户或组。
2. 点击保存

**分配组：**

1. 点击 Push Groups
2. 选择需要同步的 Dify Enterprise 内的 Groups 并点击保存。

![](https://assets-docs.dify.ai/2025/05/cbc2fdde9886807eed30c1e5d208f8cd.png)

## 启用 SCIM 自动同步机制



