---
title: 使用 Okta 配置 SAML
version: '简体中文'
---

本篇文档将使用 Okta 作为 SSO 身份提供商，使用 OIDC 协议连接至 Dify 企业版。

## 1. 在 Okta 中创建一个新的应用程序

1. 访问 Okta 的管理员后台页，导航到 Applications 页，轻点 Create App Integration 按钮。
2. 然后选择 "OIDC - OpenID Connect"，选择 "Web Application" 应用类型后完成创建。

![](/zh-cn/images/okta-oidc-1.png)

## 2. 配置 Okta 应用程序

系统管理员需要将 Dify 企业版的 Callback URL 填写至 Okta 应用程序内。

1. 点击 Dify 企业版的 Authentication 页，轻点 **"+ New Identity Provider → New OIDC Provider"**，然后即可查看 Callback URL。

   ![](/zh-cn/images/okta-oidc-3.png)

   它通常为以下格式：

   ```
   https://[your-dify-enterprise-url]/console/api/enterprise/sso/oidc/callback
   ```

2. 然后前往 Okta 应用程序的 "General" 页，找到 `Sign-in redirect URIs` 字段，并将 Dify 的 Callback URL 填入其中。

![](/zh-cn/images/okta-oidc-4.png)

## 3. 完成在 Dify 上的配置

1. 前往你的 Okta 应用程序的 "General" 页，找到以下字段：
   * Client ID
   * Client secret

   ![](/zh-cn/images/okta-oidc-5.png)

2. 然后在 "Sign On" 页中找到 Issuer 字段，你可以在此处找到 **Issuer URL**。

   Issuer URL 的格式通常为 `https://<your-okta-domain>/oauth2/default` 或 `https://<your-okta-domain>`。

3. 系统管理员点击 Dify 企业版的 Authentication 页，轻点 **"+ New Identity Provider → New OIDC Provider"**，粘贴上文中获取的信息完成配置。

![](/zh-cn/images/okta-oidc-6.png)

## 4. 开启 SSO 强制认证

完成 OIDC Provider 配置后，轻点 **"Workspaces SSO"** 右侧的开关按钮，为你的团队启用 SSO 认证。

启用后，你的组织成员必须完成身份验证后才能访问 Dify 企业版中的资源。