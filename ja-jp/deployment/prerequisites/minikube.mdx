---
title: 'Minikube'
version: '日本語'
---

## 必要条件
- Minikube
  - 4 CPU 16 GB RAM
- Helm 3.14+
- Kubectl

## インストール
### Minikubeの開始
以下のコマンドを実行してMinikubeを開始できます:
```bash
minikube start --driver=docker --cpus=4 --memory=16384
```

### Dockerイメージプルシークレットの設定
Difyエンタプライス版をインストールする前に、Dockerイメージプルシークレットを設定する必要があります。
- [Dockerイメージプルシークレットの設定方法](/deployment/advanced-configuration/docker-image-pull-secret)

### 永続化設定

`values.yaml`を編集して永続化タイプを設定する必要があります。これは、イメージのプル後の設定準備のためです。
サポートされているストレージタイプ: s3, azure-blob, aliyun-oss, google-storage.

> <a href="/assets/values.yaml" download="values.yaml">ここをクリック</a>して `values.yaml` ファイルをダウンロードしてください。

```
persistence:
  type: "s3"
  s3:
    endpoint: "https://xxx.r2.cloudflarestorage.com"
    accessKey: "#REPLACE_ME#"
    secretKey: "#REPLACE_ME#"
    region: "us-east-1"
    bucketName: "your-bucket-name"
```

### Difyエンタプライス版のインストール
Difyエンタプライス版はHelmを使用してデプロイされます。

```bash
helm repo add dify https://langgenius.github.io/dify-helm
helm repo update

helm upgrade -i dify -f values.yaml dify/dify
```

詳細については、[Dify Helm Chart](/deployment/prerequisites/dify-helm-chart)を参照してください。

### Ingressコントローラーの設定
以下のコマンドを実行して、MinikubeクラスターでIngressコントローラーを有効にできます:
```bash
minikube addons enable ingress
```

サービスをホストマシンに公開するには、`minikube tunnel`コマンドを使用する必要があります。
```bash
minikube tunnel
```

### Difyエンタプライス版へのアクセス
Ingressコントローラーが有効になった後、ローカルの`/etc/hosts`ファイルにドメインを設定できます。
```
127.0.0.1 console.dify.local
127.0.0.1 app.dify.local
127.0.0.1 api.dify.local
127.0.0.1 upload.dify.local
127.0.0.1 enterprise.dify.local
```

### インストールの確認
- Difyコンソール: `http://console.dify.local`にアクセスしてインストールを完了します。
- エンタープライズダッシュボード: `http://enterprise.dify.local`にアクセスし、デフォルトのメールアドレスとパスワードでログインします。ログイン後にパスワードを変更できます。
  ```
  メールアドレス：dashboard@dify.ai
  パスワード：difyai123456
  ```
